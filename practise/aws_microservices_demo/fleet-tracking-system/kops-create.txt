kops create cluster --zones ap-south-1a,ap-south-1b,ap-south-1c ${NAME}
kops update cluster --name ${NAME} --yes --admin


 helm install monitoring prometheus-community/kube-prometheus-stack --namespace monitoring

 kops create cluster \
    --node-count 4 \
    --zones ap-south-1a,ap-south-1b,ap-south-1c \
    --master-zones ap-south-1a\
    --yes \
    ${NAME}



Suggestions:
 * validate cluster: kops validate cluster --wait 10m
 * list nodes: kubectl get nodes --show-labels
 * ssh to the master: ssh -i ~/.ssh/id_rsa ubuntu@api.fleetman.k8s.local
 * the ubuntu user is specific to Ubuntu. If not using Ubuntu please use the appropriate user based on your OS.
 * read about installing addons at: https://kops.sigs.k8s.io/operations/addons.



work@work-Vostro-3578:~/Projects/kubectl/practise/aws_microservices_demo/fleet-tracking-system/fleetman-aws(release/2)$ helm install my-special-installation  bitnami/mysql --set auth.rootPassword=password
NAME: my-special-installation
LAST DEPLOYED: Fri Jun  4 00:34:38 2021
NAMESPACE: default
STATUS: deployed
REVISION: 1
TEST SUITE: None
NOTES:
** Please be patient while the chart is being deployed **

Tip:

  Watch the deployment status using the command: kubectl get pods -w --namespace default

Services:

  echo Primary: my-special-installation-mysql.default.svc.cluster.local:3306

Administrator credentials:

  echo Username: root
  echo Password : $(kubectl get secret --namespace default my-special-installation-mysql -o jsonpath="{.data.mysql-root-password}" | base64 --decode)

To connect to your database:

  1. Run a pod that you can use as a client:

      kubectl run my-special-installation-mysql-client --rm --tty -i --restart='Never' --image  docker.io/bitnami/mysql:8.0.25-debian-10-r16 --namespace default --command -- bash

  2. To connect to primary service (read/write):

      mysql -h my-special-installation-mysql.default.svc.cluster.local -uroot -p my_database

To upgrade this helm chart:

  1. Obtain the password as described on the 'Administrator credentials' section and set the 'root.password' parameter as shown below:

      ROOT_PASSWORD=$(kubectl get secret --namespace default my-special-installation-mysql -o jsonpath="{.data.mysql-root-password}" | base64 --decode)
      helm upgrade --namespace default my-special-installation bitnami/mysql --set auth.rootPassword=$ROOT_PASSWORD
